# ADR-0001: Oracle同一インスタンス・別スキーマ構成

## ステータス

承認

## コンテキスト

マイクロサービスごとにデータベースを分離する方針を決定する必要がある。

学習プロジェクトとして、以下の要件がある：
- 業務でOracleを使用するため、事前に経験しておきたい
- 開発マシンのリソースを考慮する必要がある
- マイクロサービスの「データベース分離」原則を学習したい

## 決定

Oracle Database XE (21c) を使用し、同一インスタンス内で別スキーマ（TASK_DB, USER_DB）として分離する。

## 理由

- 業務でOracleを使用するため、学習段階で経験しておくべき
- PostgreSQL/MySQLより環境構築が面倒だが、その経験自体が学習価値
- 別インスタンスはリソース消費が大きく、開発マシンには過剰
- 同一インスタンス・別スキーマでも論理的な分離は実現できる

### 検討した代替案

| 代替案 | 不採用理由 |
|-------|-----------|
| PostgreSQL / MySQL | 業務で使用しないため学習優先度が低い |
| Oracle別インスタンス | 開発マシンのリソース消費が大きすぎる |
| SQLite | 本番との乖離が大きく学習効果が低い |

## 影響

- DevContainerにOracle XEコンテナを含める必要がある
- node-oracledb + Oracle Instant Clientのセットアップが必要
- 初回起動に数分かかる
- 各サービスは自スキーマのみアクセス可能とする
- テスト用に別スキーマ（TASK_DB_TEST, USER_DB_TEST）を用意する
