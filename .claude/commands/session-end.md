# セッション終了Command

**目的**: セッション終了時の記録・引き継ぎを実行
**対象**: 全セッション

## コマンド実行内容

### 1. セッション目的達成確認（必須）

- [ ] セッション開始時に設定した目標と実績を照合
- [ ] TodoWriteで管理されたタスクの完了状況を確認
- [ ] 未完了事項の整理・次回優先度設定
- [ ] ユーザーに達成状況を報告

### 2. 成果・実績記録

- [ ] 完了した作業の具体的な記録（作成/変更ファイル、実装内容）
- [ ] 技術的知見・学びの記録
- [ ] 発生した問題と解決方法の記録

### 3. 課題・改善管理

- [ ] 発見された課題・問題点の記録
- [ ] 継続課題の更新（解決済みマーク、新規追加）
- [ ] 改善提案があれば記録

### 4. 次回準備・引き継ぎ

- [ ] 次回セッション推奨事項の設定
- [ ] 申し送り事項の整理（重要な制約・前提・注意点）
- [ ] Phase状況の更新（必要な場合）

### 5. ファイル更新（必須）

- [ ] **日次記録作成**: `docs/sessions/daily/YYYY-MM-DD.md` を作成
- [ ] **プロジェクト状況更新**: `docs/sessions/project-status.md` を更新（変更がある場合）
- [ ] **タスクチェックリスト更新**: `docs/sessions/task-checklist.md` を更新（変更がある場合）

### 6. 完了確認

- [ ] 上記ファイル更新が実際に実行されたことを確認
- [ ] 次回セッションで参照可能な状態であることを確認
- [ ] ユーザーにセッション終了報告

## 日次記録テンプレート

```markdown
# YYYY-MM-DD セッション記録

## セッション概要

| 項目 | 内容 |
|------|------|
| 目的 | [今日のセッション目的] |
| 作業特性 | 新機能実装 / 機能拡張 / 品質改善 / 調査分析 |

## 完了事項

- [完了した作業1]
- [完了した作業2]

## 技術的知見・学び

- [新しく学んだこと、気づき]

## 発生した問題と解決

### 問題1: [問題の概要]
- **原因**: [原因]
- **解決策**: [解決方法]

## 未完了・継続事項

- [ ] [継続が必要な作業]

## 次回への申し送り

- [次回セッションで最初に確認すべきこと]
- [注意点・制約]
```

## 実行後アクション

✅ セッション完了 → 記録完了・次回準備完了
🔄 継続希望 → 新セッション目的設定・session-start実行
⚠️ 未完了事項あり → 該当項目を次回最優先事項に設定

## ユーザーへの報告形式

```markdown
## セッション終了報告

### 完了事項
- [完了した作業の要約]

### 未完了・継続事項
- [継続が必要な作業]

### 次回への申し送り
- [重要な申し送り事項]

### 更新したファイル
- docs/sessions/daily/YYYY-MM-DD.md（作成）
- docs/sessions/project-status.md（更新）
- docs/sessions/task-checklist.md（更新）
```

## 自動実行トリガー

- ユーザー発言: "セッション終了"
- ユーザー発言: "セッションを終了します"
- ユーザー発言: "/session-end"
